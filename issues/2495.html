<HTML>
<HEAD>
<meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
<TITLE>
    CWG Issue 2495</TITLE>
<STYLE TYPE="text/css">
  INS { text-decoration:none; font-weight:bold; background-color:#A0FFA0 }
  .INS { text-decoration:none; background-color:#D0FFD0 }
  DEL { text-decoration:line-through; background-color:#FFA0A0 }
  .DEL { text-decoration:line-through; background-color: #FFD0D0 }
  SPAN.cmnt { font-family:Times; font-style:italic }
</STYLE>
</HEAD>
<BODY>
<P><EM>This is an unofficial snapshot of the ISO/IEC JTC1 SC22 WG21
  Core Issues List revision 116b.
  See http://www.open-std.org/jtc1/sc22/wg21/ for the official
  list.</EM></P>
<P>2025-03-05</P>
<HR>
<A NAME="2495"></A><H4>2495.
  
Glvalue result of a function call
</H4>
<B>Section: </B>8.7.4&#160; [<A href="https://wg21.link/stmt.return">stmt.return</A>]
 &#160;&#160;&#160;

 <B>Status: </B>open
 &#160;&#160;&#160;

 <B>Submitter: </B>Jim X
 &#160;&#160;&#160;

 <B>Date: </B>2021-07-04<BR>




<P>According to 8.7.4 [<A href="https://wg21.link/stmt.return#1">stmt.return</A>] paragraph 1,</P>

<BLOCKQUOTE>

A <TT>return</TT> statement with any other operand shall be
used only in a function whose return type is not <I>cv</I>
<TT>void</TT>; the <TT>return</TT> statement initializes the
glvalue result or prvalue result object of the (explicit or
implicit) function call by copy-initialization
(9.4 [<A href="https://wg21.link/dcl.init">dcl.init</A>]) from the operand.

</BLOCKQUOTE>

<P>It is not clear what a &#8220;glvalue result&#8221; is or
what it means to initialize it.</P>

<P><U>Suggested resolution:</U></P>

<BLOCKQUOTE>

<P>A <TT>return</TT> statement with any other operand shall be
used only in a function whose return type is not <I>cv</I>
<TT>void</TT><DEL>;</DEL><INS>. If the function call is a
prvalue,</INS> the <TT>return</TT> statement initializes the
<DEL>glvalue result or</DEL> prvalue result object of the
(explicit or implicit) function call by copy-initialization
(9.4 [<A href="https://wg21.link/dcl.init">dcl.init</A>]) from the operand. <INS>Otherwise,
the <TT>return</TT> statement is equivalent to the following
hypothetical declaration</INS>
</P>

<UL><INS><TT>  T t = </TT><I>e</I><TT>;</TT></INS></UL>

<P><INS>If the operand of the <TT>return</TT>
statement, <I>X</I>, is a comma expression without
parentheses, <I>e</I> is <TT>(</TT><I>X</I><TT>)</TT>,
otherwise <I>e</I> is <I>X</I>. <TT>T</TT> is the return
type of the function call; the invented variable <TT>t</TT>
is the result of the function call.</INS></P>

</BLOCKQUOTE>

<P><B>Notes from the August, 2021 teleconference:</B></P>

<P>A simpler approach would be simply to use a phrase like
&#8220;returned object or reference&#8221; in place of the
current wording referring to glvalues and prvalues. This
change was regarded as editorial. The issue will remain in
"review" status until CWG can look over the wording
change.</P>

<BR><BR>
</BODY>
</HTML>
