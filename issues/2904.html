<HTML>
<HEAD>
<meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
<TITLE>
    CWG Issue 2904</TITLE>
<STYLE TYPE="text/css">
  INS { text-decoration:none; font-weight:bold; background-color:#A0FFA0 }
  .INS { text-decoration:none; background-color:#D0FFD0 }
  DEL { text-decoration:line-through; background-color:#FFA0A0 }
  .DEL { text-decoration:line-through; background-color: #FFD0D0 }
  SPAN.cmnt { font-family:Times; font-style:italic }
</STYLE>
</HEAD>
<BODY>
<P><EM>This is an unofficial snapshot of the ISO/IEC JTC1 SC22 WG21
  Core Issues List revision 116.
  See http://www.open-std.org/jtc1/sc22/wg21/ for the official
  list.</EM></P>
<P>2024-12-19</P>
<HR>
<A NAME="2904"></A><H4>2904.
  
Introducing <I>template-name</I>s
</H4>
<B>Section: </B>13.1&#160; [<A href="https://wg21.link/temp.pre">temp.pre</A>]
 &#160;&#160;&#160;

 <B>Status: </B>open
 &#160;&#160;&#160;

 <B>Submitter: </B>Brian Bi
 &#160;&#160;&#160;

 <B>Date: </B>2024-06-14<BR>




<P>
A <I>template-declaration</I> should, but does not, introduce
the <I>identifier</I> in its <I>declarator-id</I> as
a <I>template-name</I>.  Subclause 13.2 [<A href="https://wg21.link/temp.param#3">temp.param</A>] paragraph 3
already does so for template <I>template-parameter</I>s.
</P>

<P><U>Possible resolution (based on <A HREF="2862.html">issue 2862</A>):</U></P>

<OL>
<LI>
<P>Change in 9.2.4 [<A href="https://wg21.link/dcl.typedef#2">dcl.typedef</A>] paragraph 2 as follows:</P>

<BLOCKQUOTE>

A <I>typedef-name</I> can also be introduced by
an <I>alias-declaration</I>. The <I>identifier</I> following the using
keyword is not looked up; <INS>if the <I>alias-declaration</I> does
not introduce an alias template (13.1 [<A href="https://wg21.link/temp.pre">temp.pre</A>]), the
<I>identifier</I></INS> <DEL>it</DEL> becomes
a <I>typedef-name</I> <DEL>and the</DEL><INS>. The</INS>
optional <I>attribute-specifier-seq</I> following
the <I>identifier</I> appertains to that <I>typedef-name</I>
<INS>or, if the <I>identifier</I> is a <I>template-name</I>, to
that <I>template-name</I></INS>.  Such a <I>typedef-name</I> has the
same semantics as if it were introduced by the typedef specifier. In
particular, it does not define a new type.

</BLOCKQUOTE>
</LI>

<LI>
<P>Change in 11.1 [<A href="https://wg21.link/class.pre#1">class.pre</A>] paragraph 1 as follows:</P>

<BLOCKQUOTE>

A class is a type. <DEL>Its name becomes a <I>class-name</I>
(11.3 [<A href="https://wg21.link/class.name">class.name</A>]) within its scope.</DEL>
<PRE>
  <I>class-name</I> :
      <I>identifier
      simple-template-id</I>
</PRE>
...  Otherwise, the <I>class-name</I> is an <I>identifier</I>; it is
not looked up, and <INS>if the <I>class-specifier</I> does not
introduce a class template (13.1 [<A href="https://wg21.link/temp.pre">temp.pre</A>]),</INS>
the <I>class-specifier</I> introduces <DEL>it</DEL> <INS>the
<I>identifier</I> as a <I>class-name</I>.</INS>

</BLOCKQUOTE>
</LI>

<LI>
<P>Change in 13.1 [<A href="https://wg21.link/temp.pre#3">temp.pre</A>] paragraph 3 as follows:</P>

<BLOCKQUOTE>
<UL>
<LI>A class template is introduced by a <I>template-declaration</I>
whose declaration is a <I>simple-declaration</I> that either contains
a <I>class-specifier</I> in its <I>decl-specifier-seq</I> or consists
solely of an <I>elaborated-type-specifier</I>.
</LI>
<LI>A function template is introduced by a <I>template-declaration</I>
whose declaration declares a function.</LI>
<LI>An alias template is introduced by a <I>template-declaration</I>
whose declaration is an <I>alias-declaration</I>.</LI>
<LI>A variable template is introduced by a <I>template-declaration</I>
whose declaration declares a variable.</LI>
</UL>

<INS>The declaration of a class template, alias template, or variable
template introduces its respective name as a
<I>template-name</I>.</INS>

</BLOCKQUOTE>
</LI>

<LI>
<P>Change in 13.7.8 [<A href="https://wg21.link/temp.alias#1">temp.alias</A>] paragraph 1 as follows:</P>

<BLOCKQUOTE>

A <I>template-declaration</I> in which the declaration is
an <I>alias-declaration</I> (9.1 [<A href="https://wg21.link/dcl.pre">dcl.pre</A>]) declares the
identifier to be an alias template. An alias template is a name for a
family of types. <DEL>The name of the alias template is
a <I>template-name</I>.</DEL>

</BLOCKQUOTE>
</LI>

<LI>
<P>Change in 13.7.9 [<A href="https://wg21.link/temp.concept#2">temp.concept</A>] paragraph 2 as follows:</P>

<BLOCKQUOTE>

A <I>concept-definition</I> declares a concept. Its <I>identifier</I>
becomes a <INS><I>template-name</I> and a</INS> <I>concept-name</I>
referring to that concept within its scope. The optional
<I>attribute-specifier-seq</I> appertains to the concept.

</BLOCKQUOTE>
</LI>

<LI>
<P>Change in 13.3 [<A href="https://wg21.link/temp.names#3">temp.names</A>] paragraph 3 as follows:</P>

<BLOCKQUOTE>

<DEL>[ Note:</DEL> If the name is an <I>identifier</I>, it is then
interpreted as a <I>template-name</I>. <INS>[ Note:</INS> The keyword
<TT>template</TT> is used to indicate that a dependent qualified name
(13.8.3.2 [<A href="https://wg21.link/temp.dep.type">temp.dep.type</A>]) denotes a template where an expression
might appear. &#8212;<I>end note</I>]

</BLOCKQUOTE>
</LI>
</OL>

<BR><BR>
</BODY>
</HTML>
