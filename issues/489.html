<HTML>
<HEAD>
<meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
<TITLE>
    CWG Issue 489</TITLE>
<STYLE TYPE="text/css">
  INS { text-decoration:none; font-weight:bold; background-color:#A0FFA0 }
  .INS { text-decoration:none; background-color:#D0FFD0 }
  DEL { text-decoration:line-through; background-color:#FFA0A0 }
  .DEL { text-decoration:line-through; background-color: #FFD0D0 }
  SPAN.cmnt { font-family:Times; font-style:italic }
</STYLE>
</HEAD>
<BODY>
<P><EM>This is an unofficial snapshot of the ISO/IEC JTC1 SC22 WG21
  Core Issues List revision 116a.
  See http://www.open-std.org/jtc1/sc22/wg21/ for the official
  list.</EM></P>
<P>2024-12-19</P>
<HR>
<A NAME="489"></A><H4>489.
  
Must member function templates be instantiated during overload resolution?
</H4>
<B>Section: </B>13.9.2&#160; [<A href="https://wg21.link/temp.inst">temp.inst</A>]
 &#160;&#160;&#160;

 <B>Status: </B>NAD
 &#160;&#160;&#160;

 <B>Submitter: </B>Daveed Vandevoorde
 &#160;&#160;&#160;

 <B>Date: </B>24 Nov 2004<BR>


<P>A related question to that raised in <A HREF="488.html">issue 488</A> is whether member function templates must be
instantiated if the compiler can determine that they will not be
needed by the function selected by overload resolution.  That is
explicitly specified for class templates in 13.9.2 [<A href="https://wg21.link/temp.inst#5">temp.inst</A>] paragraph 5:</P>

<BLOCKQUOTE>

If the overload resolution process can determine the correct function
to call without instantiating a class template definition, it is
unspecified whether that instantiation actually takes place.

</BLOCKQUOTE>

<P>Should the same be true for member function templates?  In the
example from <A HREF="488.html">issue 488</A>,</P>

<PRE>
    struct S {
        template &lt;typename T&gt; S(const T&amp;);
    };
    void f(const S&amp;);
    void f(int);
    void g() {
        enum E { e };
        f(e);    // ill-formed?
    }
</PRE>

<P>a compiler could conceivably determine that <TT>f(int)</TT>
would be selected by overload resolution (because it involves
only an integral promotion, while the alternative requires a
user-defined conversion) without instantiating the declaration of
the <TT>S</TT> constructor.  Should the compiler have that
freedom?</P>

<P><B>Rationale (April, 2005):</B></P>

<P>In order for this question to come up, there would need to be a
&#8220;gap&#8221; between the the normal rules and the rules for
template argument deduction failure.  The resolution for
<A HREF="488.html">issue 488</A> will close the only such
gap of which the CWG is aware.  The issue can be reopened if other
such cases turn up.</P>

<BR><BR>
</BODY>
</HTML>
