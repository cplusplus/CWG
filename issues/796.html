<HTML>
<HEAD>
<meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
<TITLE>
    CWG Issue 796</TITLE>
<STYLE TYPE="text/css">
  INS { text-decoration:none; font-weight:bold; background-color:#A0FFA0 }
  .INS { text-decoration:none; background-color:#D0FFD0 }
  DEL { text-decoration:line-through; background-color:#FFA0A0 }
  .DEL { text-decoration:line-through; background-color: #FFD0D0 }
  SPAN.cmnt { font-family:Times; font-style:italic }
</STYLE>
</HEAD>
<BODY>
<P><EM>This is an unofficial snapshot of the ISO/IEC JTC1 SC22 WG21
  Core Issues List revision 116.
  See http://www.open-std.org/jtc1/sc22/wg21/ for the official
  list.</EM></P>
<P>2024-12-19</P>
<HR>
<A NAME="796"></A><H4>796.
  
Lifetime of a closure object with members captured by reference
</H4>
<B>Section: </B>7.5.6&#160; [<A href="https://wg21.link/expr.prim.lambda">expr.prim.lambda</A>]
 &#160;&#160;&#160;

 <B>Status: </B>CD2
 &#160;&#160;&#160;

 <B>Submitter: </B>UK
 &#160;&#160;&#160;

 <B>Date: </B>3 March, 2009<BR><BR>


<A href="http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2010/n3086.html#UK40">N2800 comment
  UK&#160;40<BR></A>

<P>7.5.6 [<A href="https://wg21.link/expr.prim.lambda#13">expr.prim.lambda</A>] paragraph 13 ties the effective lifetime
of a closure object with members captured by reference to the innermost
block scope in which the lambda appears, rather than to the lifetime of
the objects to which the references are bound.  This seems too
restrictive.</P>

<P><B>Notes from the March, 2009 meeting:</B></P>

<P>Making the suggested change would be problematic for an
implementation in which the &#8220;reference members&#8221; were
actually implemented using offsets from a captured stack pointer and
in which nested blocks were pushed onto the stack (to optimize space
for large local objects, for example).</P>

<P><B>Proposed resolution (July, 2009)</B></P>

<P>See document PL22.16/09-0117 = WG21 N2927.</P>

<BR><BR>
</BODY>
</HTML>
