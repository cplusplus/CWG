<HTML>
<HEAD>
<meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
<TITLE>
    CWG Issue 23</TITLE>
<STYLE TYPE="text/css">
  INS { text-decoration:none; font-weight:bold; background-color:#A0FFA0 }
  .INS { text-decoration:none; background-color:#D0FFD0 }
  DEL { text-decoration:line-through; background-color:#FFA0A0 }
  .DEL { text-decoration:line-through; background-color: #FFD0D0 }
  SPAN.cmnt { font-family:Times; font-style:italic }
</STYLE>
</HEAD>
<BODY>
<P><EM>This is an unofficial snapshot of the ISO/IEC JTC1 SC22 WG21
  Core Issues List revision 116.
  See http://www.open-std.org/jtc1/sc22/wg21/ for the official
  list.</EM></P>
<P>2024-12-19</P>
<HR>
<A NAME="23"></A><H4>23.
  
Some questions regarding partial ordering of function templates
</H4>
<B>Section: </B>13.7.7.3&#160; [<A href="https://wg21.link/temp.func.order">temp.func.order</A>]
 &#160;&#160;&#160;

 <B>Status: </B>NAD
 &#160;&#160;&#160;

 <B>Submitter: </B>unknown
 &#160;&#160;&#160;

 <B>Date: </B>unknown<BR>





<P><U><B>Issue 1:</B></U></P>

<P>13.7.7.3 [<A href="https://wg21.link/temp.func.order#2">temp.func.order</A>] paragraph 2
says:
<BLOCKQUOTE>Given two overloaded function templates, whether one is more
specialized than another can be determined by transforming each template
in turn and using argument deduction (13.10.3 [<A href="https://wg21.link/temp.deduct">temp.deduct</A>]
) to compare it to the other.</BLOCKQUOTE>
13.10.3 [<A href="https://wg21.link/temp.deduct">temp.deduct</A>]
 now has 4 subsections describing argument deduction in different
situations. I think this paragraph should point to a subsection of
13.10.3 [<A href="https://wg21.link/temp.deduct">temp.deduct</A>]
.</P>

<P><B>Rationale:</B></P>

<P>This is not a defect; it is not necessary to pinpoint cross-references
to this level of detail.</P>

<P><B><U>Issue 2:</U></B></P>

<P>13.7.7.3 [<A href="https://wg21.link/temp.func.order#4">temp.func.order</A>] paragraph 4
says:</P>
<BLOCKQUOTE>Using the transformed function parameter list, perform argument
deduction against the other function template. The transformed template
is at least as specialized as the other if, and only if, the deduction
succeeds and the deduced parameter types are an exact match (so the deduction
does not rely on implicit conversions).</BLOCKQUOTE>
In "the deduced parameter types are an exact match", the terms exact match
do not make it clear what happens when a type T is compared to the reference
type T&amp;. Is that an exact match?



<P><B><U>Issue 3:</U></B></P>

<P>13.7.7.3 [<A href="https://wg21.link/temp.func.order#5">temp.func.order</A>] paragraph 5
says:</P>
<BLOCKQUOTE>A template is more specialized than another if, and only if,
it is at least as specialized as the other template and that template is
not at least as specialized as the first.</BLOCKQUOTE>
What happens in this case:
<PRE>
    template&lt;class T&gt; void f(T,int);
    template&lt;class T&gt; void f(T, T);
    void f(1,1);
</PRE>
For the first function template, there is no type deduction for the second
parameter. So the rules in this clause seem to imply that the second function
template will be chosen.

<P><B>Rationale:</B></P>

<P>This is not a defect; the standard unambiguously makes the above example
ill-formed due to ambiguity.</P>

<P><B>Additional note (April, 2011):</B></P>

<P>These points appear to have been addressed by previous resolutions,
so presumably the issue is now NAD.</P>

<P><B>Rationale (August, 2011):</B></P>

<P>As given in the preceding note.</P>

<BR><BR>
</BODY>
</HTML>
