<HTML>
<HEAD>
<meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
<TITLE>
    CWG Issue 971</TITLE>
<STYLE TYPE="text/css">
  INS { text-decoration:none; font-weight:bold; background-color:#A0FFA0 }
  .INS { text-decoration:none; background-color:#D0FFD0 }
  DEL { text-decoration:line-through; background-color:#FFA0A0 }
  .DEL { text-decoration:line-through; background-color: #FFD0D0 }
  SPAN.cmnt { font-family:Times; font-style:italic }
</STYLE>
</HEAD>
<BODY>
<P><EM>This is an unofficial snapshot of the ISO/IEC JTC1 SC22 WG21
  Core Issues List revision 116a.
  See http://www.open-std.org/jtc1/sc22/wg21/ for the official
  list.</EM></P>
<P>2024-12-19</P>
<HR>
<A NAME="971"></A><H4>971.
  
Incorrect treatment of <I>exception-declaration</I>s
</H4>
<B>Section: </B>14.4&#160; [<A href="https://wg21.link/except.handle">except.handle</A>]
 &#160;&#160;&#160;

 <B>Status: </B>C++11
 &#160;&#160;&#160;

 <B>Submitter: </B>Mike Miller
 &#160;&#160;&#160;

 <B>Date: </B>28 September, 2009<BR>


<P>The current wording of 14.4 [<A href="https://wg21.link/except.handle#16">except.handle</A>] paragraph 16 is:</P>

<BLOCKQUOTE>

The object declared in an <I>exception-declaration</I> or, if the
<I>exception-declaration</I> does not specify a name, a temporary
(6.7.7 [<A href="https://wg21.link/class.temporary">class.temporary</A>]) is copy-initialized (9.4 [<A href="https://wg21.link/dcl.init">dcl.init</A>]) from the exception object.  The object shall not have an
abstract class type.  The object is destroyed when the handler exits,
after the destruction of any automatic objects initialized within the
handler.

</BLOCKQUOTE>

<P>There are two problems with this.  First, it's not clear what it
means for the handler's &#8220;parameter&#8221; to be a temporary.
This possibility is briefly mentioned in 6.7.7 [<A href="https://wg21.link/class.temporary">class.temporary</A>],
but the lifetime of such a temporary is not defined there; the
discussion of lifetime is restricted to those temporaries that arise
during the evaluation of an expression, and this is not such a case.</P>

<P>Second, this wording assumes that there will be an object to be
destroyed and thus ignores the possibility that the
<I>exception-declaration</I> declares a reference.</P>

<P><B>Proposed resolution (March, 2011):</B></P>

<P>This issue is resolved by the resolution of
<A HREF="1166.html">issue 1166</A> in paper N3262.</P>

<BR><BR>
</BODY>
</HTML>
