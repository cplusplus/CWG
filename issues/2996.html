<HTML>
<HEAD>
<meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
<TITLE>
    CWG Issue 2996</TITLE>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<STYLE TYPE="text/css">
  INS { text-decoration:none; font-weight:bold; background-color:#A0FFA0 }
  .INS { text-decoration:none; background-color:#D0FFD0 }
  DEL { text-decoration:line-through; background-color:#FFA0A0 }
  .DEL { text-decoration:line-through; background-color: #FFD0D0 }
  @media (prefers-color-scheme: dark) {
    HTML { background-color:#202020; color:#f0f0f0; }
    A { color:#5bc0ff; }
    A:visited { color:#c6a8ff; }
    A:hover, a:focus { color:#afd7ff; }
    INS { background-color:#033a16; color:#aff5b4; }
    .INS { background-color: #033a16; }
    DEL { background-color:#67060c; color:#ffdcd7; }
    .DEL { background-color:#67060c; }
  }
  SPAN.cmnt { font-family:Times; font-style:italic }
</STYLE>
</HEAD>
<BODY>
<P><EM>This is an unofficial snapshot of the ISO/IEC JTC1 SC22 WG21
  Core Issues List revision 116c.
  See http://www.open-std.org/jtc1/sc22/wg21/ for the official
  list.</EM></P>
<P>2025-03-08</P>
<HR>
<A NAME="2996"></A><H4>2996.
  
Impenetrable definition of atomic constraint
</H4>
<B>Section: </B>13.5.2.3&#160; [<A href="https://wg21.link/temp.constr.atomic">temp.constr.atomic</A>]
 &#160;&#160;&#160;

 <B>Status: </B>open
 &#160;&#160;&#160;

 <B>Submitter: </B>Brian Bi
 &#160;&#160;&#160;

 <B>Date: </B>2025-01-30<BR>




<P>The definition of "atomic constraint" is hard to read.</P>

<P><U>Possible resolution:</U></P>

<P>Change in 13.5.2.3 [<A href="https://wg21.link/temp.constr.atomic#1">temp.constr.atomic</A>] paragraph 1 as follows:</P>

<BLOCKQUOTE>

<P class="del">
An <I>atomic constraint</I> is formed from an expression E and a mapping from
the template parameters that appear within E to template arguments
that are formed via substitution during constraint normalization in
the declaration of a constrained entity (and, therefore, can involve
the unsubstituted template parameters of the constrained entity),
called the parameter mapping (13.5.3 [<A href="https://wg21.link/temp.constr.decl">temp.constr.decl</A>]).</P>

<P class="ins">
An <I>atomic constraint</I> is a pair (<I>E</I>, <I>M</I>)
where <I>E</I> is an expression and <I>M</I> is a mapping from the
template parameters that appear within <I>E</I> to template arguments
expressed using the normalizing context of the atomic constraint.  The
<I>parameter mapping</I> of an atomic constraint is <I>M</I>.
The <I>normalizing context</I> of an atomic constraint is</P>
<UL class="ins">
<LI>
the surrounding context of the last <I>concept-id</I> for which
arguments were substituted into the parameter mapping via constraint
normalization (13.5.4 [<A href="https://wg21.link/temp.constr.normal">temp.constr.normal</A>]), if any, and</LI>
<LI>the surrounding context where E appears otherwise.</LI>
</UL>
<P class="ins">[Note: The atomic constraints in the associated
constraints of a constrained entity have parameter mappings that map
the template parameters that appear within their expressions to
template arguments expressed using the context of the declaration of
the constrained entity, which may involve the unsubstituted template
parameters of the constrained entity. -- end note]
</P>

</BLOCKQUOTE>

<BR><BR>
</BODY>
</HTML>
