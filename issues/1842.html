<HTML>
<HEAD>
<meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
<TITLE>
    CWG Issue 1842</TITLE>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<STYLE TYPE="text/css">
  INS { text-decoration:none; font-weight:bold; background-color:#A0FFA0 }
  .INS { text-decoration:none; background-color:#D0FFD0 }
  DEL { text-decoration:line-through; background-color:#FFA0A0 }
  .DEL { text-decoration:line-through; background-color: #FFD0D0 }
  @media (prefers-color-scheme: dark) {
    HTML { background-color:#202020; color:#f0f0f0; }
    A { color:#5bc0ff; }
    A:visited { color:#c6a8ff; }
    A:hover, a:focus { color:#afd7ff; }
    INS { background-color:#033a16; color:#aff5b4; }
    .INS { background-color: #033a16; }
    DEL { background-color:#67060c; color:#ffdcd7; }
    .DEL { background-color:#67060c; }
  }
  SPAN.cmnt { font-family:Times; font-style:italic }
</STYLE>
</HEAD>
<BODY>
<P><EM>This is an unofficial snapshot of the ISO/IEC JTC1 SC22 WG21
  Core Issues List revision 116c.
  See http://www.open-std.org/jtc1/sc22/wg21/ for the official
  list.</EM></P>
<P>2025-03-08</P>
<HR>
<A NAME="1842"></A><H4>1842.
  
Unevaluated operands and &#8220;carries a dependency&#8221;
</H4>
<B>Section: </B>6.9.2&#160; [<A href="https://wg21.link/intro.multithread">intro.multithread</A>]
 &#160;&#160;&#160;

 <B>Status: </B>open
 &#160;&#160;&#160;

 <B>Submitter: </B>Hans Boehm
 &#160;&#160;&#160;

 <B>Date: </B>2014-01-23
  &#160;&#160;&#160;
  <B>Liaison: </B>SG1<BR>


<P>According to 6.9.2 [<A href="https://wg21.link/intro.multithread#9">intro.multithread</A>] paragraph 9,</P>

<BLOCKQUOTE>

<P>An evaluation <I>A carries a dependency</I> to an evaluation <I>B</I>
if</P>

<UL>
<LI><P>the value of <I>A</I> is used as an operand of <I>B</I>,
unless:</P></LI>

<UL>
<LI><P>...</P></LI>

<LI><P>
<I>A</I> is the left operand of a built-in logical AND
(<TT>&amp;&amp;,</TT> see 7.6.14 [<A href="https://wg21.link/expr.log.and">expr.log.and</A>]) or logical OR
(<TT>||</TT>, see 7.6.15 [<A href="https://wg21.link/expr.log.or">expr.log.or</A>]) operator, or</P></LI>

<LI><P>...</P></LI>

</UL>

</UL>

</BLOCKQUOTE>

<P>The intent is that this does not apply to the second operands
of such operators if the first operand is such that they are not
evaluated, but the wording is not clear to that effect.  (A similar
question applies to the non-selected operand of the conditional
operator <TT>?:</TT>.)</P>

<P><B>Notes from the October, 2015 meeting:</B></P>

<P>It appears likely that the text involved will be removed by a
revision to the <TT>memory_order_consume</TT> specification.</P>

<P><B>Notes from the February, 2016 meeting:</B></P>

<P>Action on this issue will be deferred until the specification
for <TT>memory_order_consume</TT> is complete; it should not currently
be used.</P>

<BR><BR>
</BODY>
</HTML>
