<HTML>
<HEAD>
<meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
<TITLE>
    CWG Issue 2328</TITLE>
<STYLE TYPE="text/css">
  INS { text-decoration:none; font-weight:bold; background-color:#A0FFA0 }
  .INS { text-decoration:none; background-color:#D0FFD0 }
  DEL { text-decoration:line-through; background-color:#FFA0A0 }
  .DEL { text-decoration:line-through; background-color: #FFD0D0 }
  SPAN.cmnt { font-family:Times; font-style:italic }
</STYLE>
</HEAD>
<BODY>
<P><EM>This is an unofficial snapshot of the ISO/IEC JTC1 SC22 WG21
  Core Issues List revision 116.
  See http://www.open-std.org/jtc1/sc22/wg21/ for the official
  list.</EM></P>
<P>2024-12-19</P>
<HR>
<A NAME="2328"></A><H4>2328.
  
Unclear presentation style of template argument deduction rules
</H4>
<B>Section: </B>13.10.3.6&#160; [<A href="https://wg21.link/temp.deduct.type">temp.deduct.type</A>]
 &#160;&#160;&#160;

 <B>Status: </B>drafting
 &#160;&#160;&#160;

 <B>Submitter: </B>Richard Smith
 &#160;&#160;&#160;

 <B>Date: </B>2016-10-11<BR>


<P>The presentation style of 13.10.3.6 [<A href="https://wg21.link/temp.deduct.type#8">temp.deduct.type</A>] paragraph 8
results in a specification that is unclear,
needlessly verbose, and incomplete. Specific problems include:</P>

<UL>
<LI><P>What does it mean for <TT>P</TT> and <TT>A</TT> to
have one of a set of forms? Do they both have to have that form?
(That doesn't happen; typically, only <TT>P</TT> contains template
parameters)</P></LI>

<LI><P>In the introductory sentence,
aren't <TT>T</TT>, <TT>TT</TT>, and <TT>i</TT> supposed to be the
names of template parameters rather than template
arguments?</P></LI>

<LI><P>In <TT>T[i]</TT>, it appears we can deduce <TT>i</TT>, but
not <TT>T</TT> (<TT>T</TT> can only be deduced in the
form <TT>T[<I>integer-constant</I>]</TT>
</P></LI>

<LI><P>What is an <I>integer-constant</I> supposed to be?</P></LI>

<LI><P>What is a <I>cv-list</I>?</P></LI>

<LI><P>Why can we not deduce <TT>const T</TT> from <TT>T</TT>?
(Apparently you only get to deduce if both or neither type have
a <I>cv-list</I>, whatever a <I>cv-list</I> is.)</P></LI>

<LI><P>We have extreme redundancy because, for instance, there is
no way to say &#8220;in <TT>T (T::*)(T)</TT>, you can deduce any
of those <TT>T</TT>s, and it's OK if some of the positions don't
have a <TT>T</TT>&#8221;. So we have seven (!)  forms of that
construct, for all cases except the one where none of the three
positions contain a <TT>T</TT>.</P></LI>

<LI><P>We have special case rules for pointers to member
functions, even though they're not a special case and should be
covered by the rule for pointers to members and the rule for
functions.</P></LI>

<LI>

<P>We do not allow deducing a template template parameter's value
from a template template argument &#8212; there is
a <TT>TT&lt;T&gt;</TT> form, a <TT>TT&lt;i&gt;</TT> form,
a <I>template-name</I>&lt;T&gt; form, and
a <I>template-name</I><TT>&lt;i&gt;</TT> form, but
no <TT>TT&lt;TT&gt;</TT> form
nor <I>template-name</I><TT>&lt;TT&gt;</TT> form.</P>
</LI>

</UL>

<BR><BR>
</BODY>
</HTML>
