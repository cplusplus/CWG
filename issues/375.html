<HTML>
<HEAD>
<meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
<TITLE>
    CWG Issue 375</TITLE>
<STYLE TYPE="text/css">
  INS { text-decoration:none; font-weight:bold; background-color:#A0FFA0 }
  .INS { text-decoration:none; background-color:#D0FFD0 }
  DEL { text-decoration:line-through; background-color:#FFA0A0 }
  .DEL { text-decoration:line-through; background-color: #FFD0D0 }
  SPAN.cmnt { font-family:Times; font-style:italic }
</STYLE>
</HEAD>
<BODY>
<P><EM>This is an unofficial snapshot of the ISO/IEC JTC1 SC22 WG21
  Core Issues List revision 116.
  See http://www.open-std.org/jtc1/sc22/wg21/ for the official
  list.</EM></P>
<P>2024-12-19</P>
<HR>
<A NAME="375"></A><H4>375.
  
Confusing example on lookup with <TT>typename</TT>
</H4>
<B>Section: </B>13.8&#160; [<A href="https://wg21.link/temp.res">temp.res</A>]
 &#160;&#160;&#160;

 <B>Status: </B>dup
 &#160;&#160;&#160;

 <B>Submitter: </B>Manish Pagey
 &#160;&#160;&#160;

 <B>Date: </B>23 August 2002<BR>


<P>Section 13.8 [<A href="https://wg21.link/temp.res#4">temp.res</A>] paragraph 4 uses the
following example to show that
qualified name lookup described in Section 6.5.5 [<A href="https://wg21.link/basic.lookup.qual">basic.lookup.qual</A>]
applies even in the presence of "typename":</P>
<PRE>
  struct A {
    struct X { } ;
    int X ;
  } ;
  template&lt;class T&gt; void f(T t) {
    typename T::X x ; // ill-formed: finds the data member X
                      // not the member type X
  }
</PRE>
<P>This example is confusing because the definition of the template function
itself is not ill formed unless it is instantiated with "A" as the template
parameter. In other words, the example should be modified to something
like: </P>
<PRE>
  struct A {
    struct X { } ;
    int X ;
  } ;
  struct B {
    struct X { } ;
  } ;
  template&lt;class T&gt; void f(T t) {
    typename T::X x ;
  }
  void foo() {
    A a ;
    B b ;
    f(b) ; // OK -- finds member type B::X.
    f(a) ; // ill-formed: finds the data member A::X not
           // the member type A::X.
  }
</PRE>

<P><B>Notes from October 2002 meeting:</B></P>

<P>This is a duplicate of <A HREF="345.html">Core Issue 345</A>.</P>

<BR><BR>
</BODY>
</HTML>
