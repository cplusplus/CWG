<HTML>
<HEAD>
<meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
<TITLE>
    CWG Issue 1118</TITLE>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<STYLE TYPE="text/css">
  INS { text-decoration:none; font-weight:bold; background-color:#A0FFA0 }
  .INS { text-decoration:none; background-color:#D0FFD0 }
  DEL { text-decoration:line-through; background-color:#FFA0A0 }
  .DEL { text-decoration:line-through; background-color: #FFD0D0 }
  @media (prefers-color-scheme: dark) {
    HTML { background-color:#202020; color:#f0f0f0; }
    A { color:#5bc0ff; }
    A:visited { color:#c6a8ff; }
    A:hover, a:focus { color:#afd7ff; }
    INS { background-color:#033a16; color:#aff5b4; }
    .INS { background-color: #033a16; }
    DEL { background-color:#67060c; color:#ffdcd7; }
    .DEL { background-color:#67060c; }
  }
  SPAN.cmnt { font-family:Times; font-style:italic }
</STYLE>
</HEAD>
<BODY>
<P><EM>This is an unofficial snapshot of the ISO/IEC JTC1 SC22 WG21
  Core Issues List revision 116c.
  See http://www.open-std.org/jtc1/sc22/wg21/ for the official
  list.</EM></P>
<P>2025-03-08</P>
<HR>
<A NAME="1118"></A><H4>1118.
  
Implicit lambda capture via explicit copy constructor
</H4>
<B>Section: </B>7.5.6.3&#160; [<A href="https://wg21.link/expr.prim.lambda.capture">expr.prim.lambda.capture</A>]
 &#160;&#160;&#160;

 <B>Status: </B>NAD
 &#160;&#160;&#160;

 <B>Submitter: </B>FI
 &#160;&#160;&#160;

 <B>Date: </B>2010-08-02<BR><BR>


<A href="http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2011/n3296.html#FI19">N3092 comment
  FI&#160;19<BR></A>

<P>According to 7.5.6 [<A href="https://wg21.link/expr.prim.lambda#21">expr.prim.lambda</A>] paragraph 21,</P>

<BLOCKQUOTE>

When the <I>lambda-expression</I> is evaluated, the entities
that are captured by copy are used to direct-initialize each
corresponding non-static data member of the resulting
closure object.

</BLOCKQUOTE>

<P>This apparently means that if the capture-default
is to copy, entities captured by default, implicitly,
are copied even in cases where the copy constructors of
such entities are explicit.  It should be required that
such entities be captured explicitly instead.</P>

<P>See also <A HREF="1020.html">issue 1020</A>.</P>

<P><B>Rationale (August, 2010):</B></P>

<P>The behavior is according to the original design and is
similar to what would happen if the constructor of the
closure object initialized the members for the captured
entities using <I>mem-initializer</I>s.  CWG did not see
sufficient motivation to change the design.</P>

<BR><BR>
</BODY>
</HTML>
