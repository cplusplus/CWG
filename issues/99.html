<HTML>
<HEAD>
<meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
<TITLE>
    CWG Issue 99</TITLE>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<STYLE TYPE="text/css">
  INS { text-decoration:none; font-weight:bold; background-color:#A0FFA0 }
  .INS { text-decoration:none; background-color:#D0FFD0 }
  DEL { text-decoration:line-through; background-color:#FFA0A0 }
  .DEL { text-decoration:line-through; background-color: #FFD0D0 }
  @media (prefers-color-scheme: dark) {
    HTML { background-color:#202020; color:#f0f0f0; }
    A { color:#5bc0ff; }
    A:visited { color:#c6a8ff; }
    A:hover, a:focus { color:#afd7ff; }
    INS { background-color:#033a16; color:#aff5b4; }
    .INS { background-color: #033a16; }
    DEL { background-color:#67060c; color:#ffdcd7; }
    .DEL { background-color:#67060c; }
  }
  SPAN.cmnt { font-family:Times; font-style:italic }
</STYLE>
</HEAD>
<BODY>
<P><EM>This is an unofficial snapshot of the ISO/IEC JTC1 SC22 WG21
  Core Issues List revision 116c.
  See http://www.open-std.org/jtc1/sc22/wg21/ for the official
  list.</EM></P>
<P>2025-03-08</P>
<HR>
<A NAME="99"></A><H4>99.
  
Partial ordering, references and cv-qualifiers
</H4>
<B>Section: </B>13.10.3.2&#160; [<A href="https://wg21.link/temp.deduct.call">temp.deduct.call</A>]
 &#160;&#160;&#160;

 <B>Status: </B>NAD
 &#160;&#160;&#160;

 <B>Submitter: </B>Mike Miller
 &#160;&#160;&#160;

 <B>Date: </B>5 Mar 1999<BR>



<P>Consider:</P>
<PRE>
    template &lt;class T&gt; void f(T&amp;);
    template &lt;class T&gt; void f(const T&amp;);
    void m() {
        const int p = 0;
        f(p);
    }
</PRE>
Some compilers treat this as ambiguous; others prefer <TT>f(const T&amp;)</TT>.

The question turns out to revolve around whether
13.10.3.2 [<A href="https://wg21.link/temp.deduct.call">temp.deduct.call</A>]

paragraph 2 says what it ought to regarding the removal of cv-qualifiers
and reference modifiers from template function parameters in
doing type deduction.
<P>
<U>John Spicer</U>:
The partial ordering rules as originally proposed specified that, for
purposes of comparing parameter types, you remove a top level reference,
and after having done that you remove top level qualifiers.  This is not
what is actually in the IS however.  The IS says that you remove top
level qualifiers and then top level references.</P>
<P>
The original rules were intended to prefer <TT>f(A&lt;T&gt;)</TT> over <TT>f(const T&amp;)</TT>.</P>

<P>
<B>Rationale (10/99):</B> The Standard correctly reflects the intent
of the Committee.</P>

<P>
<B>(October 2002)</B>
This is resolved by <A HREF="214.html">issue 214</A>.</P>

<BR><BR>
</BODY>
</HTML>
