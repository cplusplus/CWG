<HTML>
<HEAD>
<meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
<TITLE>
    CWG Issue 2590</TITLE>
<STYLE TYPE="text/css">
  INS { text-decoration:none; font-weight:bold; background-color:#A0FFA0 }
  .INS { text-decoration:none; background-color:#D0FFD0 }
  DEL { text-decoration:line-through; background-color:#FFA0A0 }
  .DEL { text-decoration:line-through; background-color: #FFD0D0 }
  SPAN.cmnt { font-family:Times; font-style:italic }
</STYLE>
</HEAD>
<BODY>
<P><EM>This is an unofficial snapshot of the ISO/IEC JTC1 SC22 WG21
  Core Issues List revision 116b.
  See http://www.open-std.org/jtc1/sc22/wg21/ for the official
  list.</EM></P>
<P>2025-03-05</P>
<HR>
<A NAME="2590"></A><H4>2590.
  
Underlying type should determine size and alignment requirements of an enum
</H4>
<B>Section: </B>9.7.1&#160; [<A href="https://wg21.link/dcl.enum">dcl.enum</A>]
 &#160;&#160;&#160;

 <B>Status: </B>C++23
 &#160;&#160;&#160;

 <B>Submitter: </B>Brian Bi
 &#160;&#160;&#160;

 <B>Date: </B>2022-05-15<BR>


<P>[Accepted as a DR at the November, 2022 meeting.]</P>

<P>Subclause 9.7.1 [<A href="https://wg21.link/dcl.enum">dcl.enum</A>] specifies how the underlying
type of an enumeration is determined, and, for enumerations whose
underlying type is fixed, specifies that the enumeration has the same
set of values as the underlying type.  However, the specification does
not relate the size and alignment requirements of the enumeration to
those of the underlying type.  Those ought to be the same.</P>

<P><U>Suggested resolution [SUPERSEDED]:</U></P>

<P>Add a new paragraph after 9.7.1 [<A href="https://wg21.link/dcl.enum#8">dcl.enum</A>] paragraph 8:</P>

<BLOCKQUOTE>

<P>For an enumeration whose underlying type is fixed, ...</P>

<P><INS>An enumeration has the same size, value representation, and alignment
requirements (6.7.3 [<A href="https://wg21.link/basic.align">basic.align</A>]) as its underlying
type. Furthermore, each value of an enumeration has the same
representation as the same value of the underlying type.</INS></P>

<P>Two enumeration types are <I>layout-compatible enumerations</I> if ...</P>

</BLOCKQUOTE>

<P><B>Proposed resolution (approved by CWG 2022-08-26):</B></P>

<P>Add a new paragraph after 9.7.1 [<A href="https://wg21.link/dcl.enum#8">dcl.enum</A>] paragraph 8:</P>

<BLOCKQUOTE>

<P>For an enumeration whose underlying type is fixed, ...</P>

<P><INS>An enumeration has the same size, value representation, and alignment
requirements (6.7.3 [<A href="https://wg21.link/basic.align">basic.align</A>]) as its underlying
type. Furthermore, each value of an enumeration has the same
representation as the corresponding value of the underlying type.</INS></P>

<P>Two enumeration types are <I>layout-compatible enumerations</I> if ...</P>

</BLOCKQUOTE>

<BR><BR>
</BODY>
</HTML>
