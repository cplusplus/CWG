<HTML>
<HEAD>
<meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
<TITLE>
    CWG Issue 2244</TITLE>
<STYLE TYPE="text/css">
  INS { text-decoration:none; font-weight:bold; background-color:#A0FFA0 }
  .INS { text-decoration:none; background-color:#D0FFD0 }
  DEL { text-decoration:line-through; background-color:#FFA0A0 }
  .DEL { text-decoration:line-through; background-color: #FFD0D0 }
  SPAN.cmnt { font-family:Times; font-style:italic }
</STYLE>
</HEAD>
<BODY>
<P><EM>This is an unofficial snapshot of the ISO/IEC JTC1 SC22 WG21
  Core Issues List revision 116.
  See http://www.open-std.org/jtc1/sc22/wg21/ for the official
  list.</EM></P>
<P>2024-12-19</P>
<HR>
<A NAME="2244"></A><H4>2244.
  
Base class access in aggregate initialization
</H4>
<B>Section: </B>11.8.5&#160; [<A href="https://wg21.link/class.protected">class.protected</A>]
 &#160;&#160;&#160;

 <B>Status: </B>open
 &#160;&#160;&#160;

 <B>Submitter: </B>Richard Smith
 &#160;&#160;&#160;

 <B>Date: </B>2016-03-08<BR>




<P>The rules in 11.8.5 [<A href="https://wg21.link/class.protected">class.protected</A>] assume an object expression,
perhaps implicit, that can be used to determine whether access to protected
members is permitted or not. It is not clear how that applies to aggregates
and constructors. For example:</P>

<PRE>
  struct A {
  protected:
    A();
  };
  struct B : A {
    friend B f();
    friend B g();
    friend B h();
  };
  B f() { return {}; }     //<SPAN CLASS="cmnt"> ok? </SPAN>
  B g() { return {{}}; }   //<SPAN CLASS="cmnt"> ok? </SPAN>
  B h() { return {A{}}; }  //<SPAN CLASS="cmnt"> ok?</SPAN>
</PRE>

<P><B>Notes from the December, 2016 teleconference:</B></P>

<P>The consensus favored accepting <TT>f</TT> and <TT>g</TT> while
rejecting <TT>h</TT>.</P>

<P><B>Notes from the March, 2018 meeting:</B></P>

<P>CWG affirmed the earlier direction and felt that there should be an
implicit object expression assumed for these cases. </P>

<BR><BR>
</BODY>
</HTML>
